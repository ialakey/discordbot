<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Панель Администратора</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4 bg-light">
<div class="container">
    <h1 class="mb-4">Панель Администратора</h1>

    <!-- Заблокированные пользователи -->
    <div class="mb-5">
        <h3>Заблокированные пользователи</h3>
        <form th:action="@{/admin/addBlockedUser}" method="post" class="row g-2 mb-3">
            <div class="col-md-10">
                <select name="username" class="form-select">
                    <option th:each="user : ${discordUsers}" th:value="${user}" th:text="${user}"></option>
                </select>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-danger w-100">Заблокировать</button>
            </div>
        </form>

        <table class="table table-striped">
            <thead>
            <tr><th>Имя пользователя</th><th>Действие</th></tr>
            </thead>
            <tbody>
            <tr th:each="user : ${blockedUsers}">
                <td th:text="${user}"></td>
                <td>
                    <form th:action="@{/admin/removeBlockedUser}" method="post" class="d-inline">
                        <input type="hidden" name="username" th:value="${user}" />
                        <button type="submit" class="btn btn-sm btn-outline-danger">Удалить</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- Заблокированные роли -->
    <div class="mb-5">
        <h3>Заблокированные роли</h3>
        <form th:action="@{/admin/addBlockedRole}" method="post" class="row g-2 mb-3">
            <div class="col-md-10">
                <select name="roleName" class="form-select">
                    <option th:each="role : ${discordRoles}" th:value="${role}" th:text="${role}"></option>
                </select>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-danger w-100">Заблокировать</button>
            </div>
        </form>

        <table class="table table-striped">
            <thead>
            <tr><th>Название роли</th><th>Действие</th></tr>
            </thead>
            <tbody>
            <tr th:each="role : ${blockedRoles}">
                <td th:text="${role}"></td>
                <td>
                    <form th:action="@{/admin/removeBlockedRole}" method="post" class="d-inline">
                        <input type="hidden" name="roleName" th:value="${role}" />
                        <button type="submit" class="btn btn-sm btn-outline-danger">Удалить</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- Проиграть и отключить -->
    <div class="mb-5">
        <h3>Воспроизвести аудио и отключить пользователей</h3>
        <form th:action="@{/admin/playAndKick}" method="post" class="row g-2">
            <div class="col-md-10">
                <select name="voiceChannelName" class="form-select">
                    <option th:each="vc : ${voiceChannels}" th:value="${vc}" th:text="${vc}"></option>
                </select>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-warning w-100">Отключить с музыкой</button>
            </div>
        </form>
    </div>

    <!-- Проиграть аудио -->
    <div class="mb-5">
        <h3>Воспроизвести аудио в голосовом канале</h3>
        <form th:action="@{/admin/playAudioFile}" method="post" class="row g-2">
            <div class="col-md-5">
                <select name="voiceChannelName" class="form-select">
                    <option th:each="channel : ${voiceChannels}" th:value="${channel}" th:text="${channel}"></option>
                </select>
            </div>
            <div class="col-md-5">
                <select name="audioFileName" class="form-select">
                    <option th:each="file : ${audioFiles}" th:value="${file}" th:text="${file}"></option>
                </select>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary w-100">Воспроизвести</button>
            </div>
        </form>
    </div>

    <!-- Озвучить текст -->
    <div class="mb-5">
        <h3>Озвучить текст в голосовом канале</h3>
        <form th:action="@{/admin/speakText}" method="post" class="row g-3">
            <div class="col-md-5">
                <select name="voiceChannelName" class="form-select">
                    <option th:each="channel : ${voiceChannels}" th:value="${channel}" th:text="${channel}"></option>
                </select>
            </div>
            <div class="col-md-12">
                <label for="textToSpeak" class="form-label">Введите текст для озвучивания:</label>
                <textarea id="textToSpeak" name="textToSpeak" class="form-control" rows="4" required></textarea>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-success w-100">Озвучить</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>
